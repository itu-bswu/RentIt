\chapter{Manual}
\label{Manual}

\section{Client}
\label{Manual_Client}

\subsection{Navigating the client}
\label{Manual_Client_Navigation}
The following section will be a short manual on how to use the client when trying to perform two standard tasks: to rent a movie from the service, and to upload a moive to the service.

\subsubsection{Renting a movie}
\label{Manual_Client_Navigation_Rent}
The first thing you see when you start the client is a login page that requires your username and password, if your not allready a user you can press the signup button which will navigate you to registration page where you can signup for the service, when this is done you will be returned to the login page. If you login as a user a new page will open see figure \ref{fig:Manual_Client_Navigation_Rent_List}on page \pageref{fig:Manual_Client_Navigation_Rent_List}

\begin{figure}[h!] 
\caption{List of movies on service} 
\label{fig:Manual_Client_Navigation_Rent_List}
  \centering
 \includegraphics[width=0.65\textwidth]{Parts/Images/Manual/Listmovies}
\end{figure}
 
and a diffrent if you are an content provider but more on that later.
\\When logged in as a user you want to rent a movie lets say "Batman begins". You now have two options either to sort your movie list after action genre or you can search after it by typing in the name in the search field and hitting the search button.
\\If you use the search option you will then be navigated to a new page see figure \ref{fig:Manual_Client_Navigation_Rent_Search}on page \pageref{fig:Manual_Client_Navigation_Rent_Search}


\begin{figure}[h!]
\caption{Search on batman begins}
\label{fig:Manual_Client_Navigation_Rent_Search}
  \centering
\includegraphics[width=0.65\textwidth]{Parts/Images/Manual/Search}
\end{figure}
 
which contains the result of the search which in the case of "Batman begins" would look like this, to rent the movie you then need to select it from the list and press "view movie" which in turn then will open this page, see figure \ref{fig:Manual_Client_Navigation_Rent_View}on page \pageref{fig:Manual_Client_Navigation_Rent_View}


\begin{figure}[h!]  
\caption{View movie}
\label{fig:Manual_Client_Navigation_Rent_View}
  \centering
\includegraphics[width=0.65\textwidth]{Parts/Images/Manual/Viewmovie}
\end{figure}
 
 where you will be able to see information about the movie, and also be able to choose which edition to rent.
\\ You then choose a edition you want to rent, in this case we will choose the HD 1080p edition of "Batman begins" we then select it in the list and click select edition, this will promt us to a page similar to the view movie page, the only exception being that we can now press "Rent edition" which will then add the movie to your account for seven days and then navigate to the download page where you can press the "Download movie". Here you wil be able to download the movie and choose a filepath to save it in. See figure \ref{fig:Manual_Client_Navigation_Rent_Download}on page \pageref{fig:Manual_Client_Navigation_Rent_Download}


\begin{figure}[h!]  
\caption{Download movie}
\label{fig:Manual_Client_Navigation_Rent_Download}
  \centering
\includegraphics[width=0.65\textwidth]{Parts/Images/Manual/Downloadmovie}
\end{figure}
 
 When done you can then press the logout button to logout and return to the login page or you can press the close button (X) which will then log you out and close down the application completly.

\subsubsection{Uploading a movie}
\label{Manual_Client_Navigation_Upload}
In the case where you login as a contentprovider, you get a startscreen where you can see a list of your uploaded movies, see figure
\ref{fig:Manual_Client_Navigation_Upload_List}on page \pageref{fig:Manual_Client_Navigation_Upload_List}


\begin{figure}[h!]  
\caption{List of uploaded movies}
\label{fig:Manual_Client_Navigation_Upload_List}
  \centering
\includegraphics[width=0.65\textwidth]{Parts/Images/Manual/CPmovielist}
\end{figure}
 
 you also have the ability to register new movies. To register a new movie you press the " Register movie" button this will then open this image, see figure \ref{fig:Manual_Client_Navigation_Upload_Register}on page \pageref{fig:Manual_Client_Navigation_Upload_Register}


\begin{figure}[h!]  
\caption{Register movie}
\label{fig:Manual_Client_Navigation_Upload_Register}
  \centering
\includegraphics[width=0.65\textwidth]{Parts/Images/Manual/CPRegistermovie}
\end{figure}
 
 here you can give the movie a title,  release date, genres and a short description. You can then register the information by pressing "Register movie", when doing so a dialogbox will apear, see figure \ref{fig:Manual_Client_Navigation_Upload_Popup}on page \pageref{fig:Manual_Client_Navigation_Upload_Popup}


\begin{figure}[h!]  
\caption{Upload edition popup box}
\label{fig:Manual_Client_Navigation_Upload_Popup}
  \centering
\includegraphics[width=0.5\textwidth]{Parts/Images/Manual/RegisterPopup}
\end{figure}
 
 prompting you if you want to upload editions right away aswell.
\\If you press yes the window will then navigate to this page, see figure \ref{fig:Manual_Client_Navigation_Upload_Edition}on page \pageref{fig:Manual_Client_Navigation_Upload_Edition}


\begin{figure}[h!]  
\caption{Upload edition}
\label{fig:Manual_Client_Navigation_Upload_Edition}
  \centering
\includegraphics[width=0.65\textwidth]{Parts/Images/Manual/CPUploadEdition}
\end{figure}
 
 which allows you to upload an edition of the movie with a name and a file, when you press the "Upload edition" button, the edition will be uploaded to the service and you will be returned to your start screen.

\section{Service}
\label{Manual_Service}

\subsection{Using the API}
\label{Manual_Service_Usage}
The following section is a short manual on how to use the service API in custom client applications. It will follow the same two tasks as those in the client manual, only focusing on the service calls.

All methods in the API have the same format. The return type is always a boolean, which is true if the input was valid, but false if the input was invalid. All objects to be sent to the client is sent through either an out or ref parameter.

All methods are places in 4 different classes: \class{ContentBrowsing}, \class{UserManagement}, \class{RentalManagement}, and \class{ContentManagement}.

\subsection{Renting a movie}
\label{Manual_Service_Usage_Rent}
The first step to using the service is always either log in or sign up for a new user. The \method{Login} method in \class{UserManagement} takes a username and password, and sends back the logged in user object. The \method{SignUp} method takes a referenced \class{User} object, where at least username, password and email is filled out. The returned user object for both methods will contain a token property, which will be used in all subsequent method calls.

After login, there is several ways to get movies, all using the \class{ContentBrowsing} class. The \method{GetMovies} method can get all movies, newest movies, and most downloaded movies in either all or a specified genre. The genres can be retrieved with the \method{GetGenres} method. Alternatively, you can search for movie titles with the \method{Search} method.

To rent a movie, the \method{RentMovie} method in the \class{RentalManagement} class is used. This takes a movie edition. The list of editions for a movie can be retrieved with the \method{GetMovieInformation} method in the \class{ContentBrowsing} class. When a movie edition has been rented, it can be downloaded with the \method{DownloadFile} method.

\subsection{Uploading a movie}
\label{Manual_Service_Usage_Upload}
When you log in as a content provider, you get the ability to upload, edit and remove movies through the \class{ContentManagement} class. The \method{RegisterMovie} method registers a new movie in the system. It takes a referenced movie instance, which has to at least have a title. A release date can also be set, and if it's a day in the future, the movie won't be visible in the system before then. A movie can afterwards be edited and removed using the \method{EditMovie} and \method{DeleteMovie} method.

After a movie has been registered, versions of it can be uploaded with the \method{UploadEdition}, and afterwards be removed with the \method{DeleteEdition} method.
